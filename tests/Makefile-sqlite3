COMPILER = g++
CXXFLAGS = -Wall -pedantic -Wno-long-long -g  # -DSQLITE_ENABLE_COLUMN_METADATA
INCLUDEDIRS = -I.. -I../backends
LIBDIRS =
LIBS = -lsqlite3


test-sqlite3 : test-sqlite3.o ../soci.o ../backends/soci-sqlite3.o
	${COMPILER} -o $@ test-sqlite3.o ../soci.o ../backends/soci-sqlite3.o ${LIBDIRS} ${LIBS}

test-sqlite3.o : test-sqlite3.cpp ../soci.h ../backends/soci-sqlite3.h
	${COMPILER} -c test-sqlite3.cpp ${CXXFLAGS} ${INCLUDEDIRS}

../soci.o : ../soci.cpp ../soci.h
	${COMPILER} -c -o $@ ../soci.cpp ${CXXFLAGS} ${INCLUDEDIRS}

../backends/soci-sqlite3.o : ../backends/soci-sqlite3.cpp ../backends/soci-sqlite3.h ../soci.h
	${COMPILER} -c -o $@ ../backends/soci-sqlite3.cpp ${CXXFLAGS} ${INCLUDEDIRS}


clean :
	rm -f test-sqlite3 test-sqlite3.o
