COMPILER = g++
CXXFLAGS = -Wall -pedantic -Wno-long-long -g
INCLUDEDIRS = -I.. -I../backends -I/u01/app/oracle/product/10.1.0/Db_1/rdbms/public
LIBDIRS = -L/u01/app/oracle/product/10.1.0/Db_1/lib
LIBS = -lclntsh


test-oracle : test-oracle.o ../soci.o ../backends/soci-oracle.o
	${COMPILER} -o $@ test-oracle.o ../soci.o ../backends/soci-oracle.o ${LIBDIRS} ${LIBS}

test-oracle.o : test-oracle.cpp ../soci.h ../backends/soci-oracle.h
	${COMPILER} -c test-oracle.cpp ${CXXFLAGS} ${INCLUDEDIRS}

../soci.o : ../soci.cpp ../soci.h
	${COMPILER} -c -o $@ ../soci.cpp ${CXXFLAGS} ${INCLUDEDIRS}

../backends/soci-oracle.o : ../backends/soci-oracle.cpp ../backends/soci-oracle.h ../soci.h
	${COMPILER} -c -o $@ ../backends/soci-oracle.cpp ${CXXFLAGS} ${INCLUDEDIRS}


clean :
	rm -f test-oracle test-oracle.o
