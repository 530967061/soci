<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta content="text/html; charset=ISO-8859-1"
 http-equiv="content-type">
  <title>SOCI - errors</title>
</head>
<body>
<font size="+3"><span
 style="font-family: helvetica,arial,sans-serif; font-weight: bold; color: rgb(0, 0, 255);">SOCI</span></font><br>
<span
 style="font-family: helvetica,arial,sans-serif; color: rgb(0, 0, 255); font-weight: bold;">Simple
Oracle Call Interface</span><span
 style="font-family: helvetica,arial,sans-serif; color: rgb(0, 0, 255);">
(and more)<br>
<br>
</span>
<h3>Errors</h3>
<p>All DB-related errors manifest themselves as exceptions of type <code>SOCIError</code>,
which is derived from <code>std::runtime_error</code>.<br>
This allows to
handle database errors within the standard exception framework:<br>
</p>
<table style="width: 100%; background-color: silver; text-align: left;"
 border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td style="vertical-align: top;">
      <pre>int main()<br>{<br>    try<br>    {<br>        // regular code<br>    }<br>    catch (exception const &amp;e)<br>    {<br>        cerr &lt;&lt; "Bang! " &lt;&lt; e.what() &lt;&lt; endl;<br>    }<br>}<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<p><span style="font-weight: bold;"><br>
Portability note:</span><br>
</p>
<p>The <code>SOCIError</code> class has a public <code>errNum_</code>
member, which contains the Oracle error code:<br>
</p>
<table style="width: 100%; background-color: silver; text-align: left;"
 border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td style="vertical-align: top;">
      <pre>int main()<br>{<br>    try<br>    {<br>        // regular code<br>    }<br>    catch (SOCIError const &amp;e)<br>    {<br>        cerr &lt;&lt; "Oracle error: " &lt;&lt; e.errNum_<br>             &lt;&lt; " " &lt;&lt; e.what() &lt;&lt; endl;<br>    }<br>    catch (exception const &amp;e)<br>    {<br>        cerr &lt;&lt; "Some other error: " &lt;&lt; e.what() &lt;&lt; endl;<br>    }<br>}</pre>
      </td>
    </tr>
  </tbody>
</table>
<br>
This additional member has no meaning with the PostgreSQL backend.<br>
<br>
<table style="width: 100%; text-align: left;" border="0" cellpadding="2"
 cellspacing="2">
  <tbody>
    <tr>
      <td style="vertical-align: top;"><a href="structure.html">Previous
(Library structure, files and compilation)</a><br>
      </td>
      <td style="vertical-align: top; text-align: right;"><a
 href="basics.html">Next (Connections and simple queries)</a><br>
      </td>
    </tr>
  </tbody>
</table>
<br>
<hr style="width: 100%; height: 2px;">Copyright &copy; 2004-2006 Maciej
Sobczak, Stephen Hutton<br>
<br>
</body>
</html>
